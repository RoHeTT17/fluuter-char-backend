<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Socket Server</title>
</head>
<body>
        <h1> Acceso denegado </h1>
        <!--
            http://localhost:3001/socket.io/socket.io.js
            Importar la librería que nuestra aplicación web necesita para conectarse al socket server, es decir que esten 
            activo - activo.
        -->
        <script src="socket.io/socket.io.js"></script>

        <!--Este script hace el llamado a la conexión de nuestro socket server-->
        <script>

            var socket = io(); //el io esta en la librería que del soket.io

            socket.on('connect', function(){
                console.log('Conectado al servidor');
            });

            socket.on('disconnect', function(){
                console.log('Desconectado del servidor');
            });

             /*
                Emitir un mensaje
                Primer parámetro es el nombre del mensaje (debe ser igual que el este escuchando el servidor)
                Segudo parámetro es el payload de respuesta. Se pueden mandar string, boolean, etc. Se acostumbra a mandar un
                objeto para que sean varias cosas
             */  
            socket.emit('mensaje',{nombre: 'RoyBoy'});

            socket.on('mensaje', function(payload){
                console.log('Escuchando', payload)

            } );


        </script>
    
</body>
</html>